
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Perform exploratory data analysis to guide model tuning &#8212; Homework 7</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Predicting Algerian Forest Fires" href="models.html" />
    <link rel="prev" title="&lt;no title&gt;" href="data_cleaning.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Homework 7</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="main.html">
   Predicting Algerian Forest Fires with Machine Learning
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Perform exploratory data analysis to guide model tuning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="models.html">
   Predicting Algerian Forest Fires
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/EDA.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/executablebooks/jupyter-book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FEDA.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/UCB-stat-159-s22/hw07-group10/HEAD?labpath=main.ipynb/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/docs/EDA.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Perform exploratory data analysis to guide model tuning
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#load-and-format-data">
     Load and format data
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#plot-scatterplots-and-examine-correlations">
     Plot scatterplots and examine correlations
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#take-a-closer-look-at-related-features">
   Take a closer look at related features
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#examine-fire-weather-index-fwi">
     Examine Fire Weather Index (FWI)
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fires-and-temperature-over-time">
     Fires and temperature over time
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Perform exploratory data analysis to guide model tuning</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Perform exploratory data analysis to guide model tuning
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#load-and-format-data">
     Load and format data
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#plot-scatterplots-and-examine-correlations">
     Plot scatterplots and examine correlations
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#take-a-closer-look-at-related-features">
   Take a closer look at related features
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#examine-fire-weather-index-fwi">
     Examine Fire Weather Index (FWI)
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fires-and-temperature-over-time">
     Fires and temperature over time
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="perform-exploratory-data-analysis-to-guide-model-tuning">
<h1>Perform exploratory data analysis to guide model tuning<a class="headerlink" href="#perform-exploratory-data-analysis-to-guide-model-tuning" title="Permalink to this headline">¶</a></h1>
<p>Visit this link for more information about the fire index features:
<a class="reference external" href="https://www.nwcg.gov/publications/pms437/cffdrs/fire-weather-index-system">https://www.nwcg.gov/publications/pms437/cffdrs/fire-weather-index-system</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># prep plotting aesthetics</span>
<span class="c1">#set font size names</span>
<span class="n">SMALL_SIZE</span> <span class="o">=</span> <span class="mi">14</span>
<span class="n">MEDIUM_SIZE</span> <span class="o">=</span> <span class="mi">16</span>
<span class="n">BIGGER_SIZE</span> <span class="o">=</span> <span class="mi">22</span>
<span class="c1">#set font sizes</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;font&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">SMALL_SIZE</span><span class="p">)</span>          <span class="c1"># controls default text sizes</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;axes&#39;</span><span class="p">,</span> <span class="n">titlesize</span><span class="o">=</span><span class="n">BIGGER_SIZE</span><span class="p">)</span>    <span class="c1"># fontsize of the axes title</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;axes&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="n">BIGGER_SIZE</span><span class="p">)</span>    <span class="c1"># fontsize of the x and y labels</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;xtick&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="n">SMALL_SIZE</span><span class="p">)</span>    <span class="c1"># fontsize of the tick labels</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;ytick&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="n">SMALL_SIZE</span><span class="p">)</span>    <span class="c1"># fontsize of the tick labels</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;legend&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">SMALL_SIZE</span><span class="p">)</span>    <span class="c1"># legend fontsize</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;figure&#39;</span><span class="p">,</span> <span class="n">titlesize</span><span class="o">=</span><span class="n">BIGGER_SIZE</span><span class="p">)</span>  <span class="c1"># fontsize of the figure title</span>
<span class="c1">#set figure size</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;figure.figsize&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> <span class="c1"># size of the figure plotted</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="load-and-format-data">
<h2>Load and format data<a class="headerlink" href="#load-and-format-data" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#load in cleaned data</span>
<span class="n">DATA</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/Algerian_forest_fires_dataset_CLEANED.csv&quot;</span><span class="p">)</span>

<span class="c1">#drop extra index</span>
<span class="n">DATA</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="c1">#add datetime column based on day, month, year</span>
<span class="n">DATA</span><span class="p">[</span><span class="s1">&#39;Datetime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">DATA</span><span class="p">[[</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;month&#39;</span><span class="p">,</span> <span class="s1">&#39;day&#39;</span><span class="p">]])</span>

<span class="n">DATA</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>day</th>
      <th>month</th>
      <th>year</th>
      <th>Temperature</th>
      <th>RH</th>
      <th>Ws</th>
      <th>Rain</th>
      <th>FFMC</th>
      <th>DMC</th>
      <th>DC</th>
      <th>ISI</th>
      <th>BUI</th>
      <th>FWI</th>
      <th>Classes</th>
      <th>Region</th>
      <th>Datetime</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>6</td>
      <td>2012</td>
      <td>29</td>
      <td>57</td>
      <td>18</td>
      <td>0.0</td>
      <td>65.7</td>
      <td>3.4</td>
      <td>7.6</td>
      <td>1.3</td>
      <td>3.4</td>
      <td>0.5</td>
      <td>notfire</td>
      <td>Bejaia</td>
      <td>2012-06-01</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>6</td>
      <td>2012</td>
      <td>29</td>
      <td>61</td>
      <td>13</td>
      <td>1.3</td>
      <td>64.4</td>
      <td>4.1</td>
      <td>7.6</td>
      <td>1.0</td>
      <td>3.9</td>
      <td>0.4</td>
      <td>notfire</td>
      <td>Bejaia</td>
      <td>2012-06-02</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>6</td>
      <td>2012</td>
      <td>26</td>
      <td>82</td>
      <td>22</td>
      <td>13.1</td>
      <td>47.1</td>
      <td>2.5</td>
      <td>7.1</td>
      <td>0.3</td>
      <td>2.7</td>
      <td>0.1</td>
      <td>notfire</td>
      <td>Bejaia</td>
      <td>2012-06-03</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>6</td>
      <td>2012</td>
      <td>25</td>
      <td>89</td>
      <td>13</td>
      <td>2.5</td>
      <td>28.6</td>
      <td>1.3</td>
      <td>6.9</td>
      <td>0.0</td>
      <td>1.7</td>
      <td>0.0</td>
      <td>notfire</td>
      <td>Bejaia</td>
      <td>2012-06-04</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>6</td>
      <td>2012</td>
      <td>27</td>
      <td>77</td>
      <td>16</td>
      <td>0.0</td>
      <td>64.8</td>
      <td>3.0</td>
      <td>14.2</td>
      <td>1.2</td>
      <td>3.9</td>
      <td>0.5</td>
      <td>notfire</td>
      <td>Bejaia</td>
      <td>2012-06-05</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="plot-scatterplots-and-examine-correlations">
<h2>Plot scatterplots and examine correlations<a class="headerlink" href="#plot-scatterplots-and-examine-correlations" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#scatter plot for all of the covariates except the date/time</span>
<span class="o">%</span><span class="k">time</span>
<span class="n">sns</span><span class="o">.</span><span class="n">pairplot</span><span class="p">(</span><span class="n">DATA</span><span class="p">[[</span><span class="s1">&#39;Temperature&#39;</span><span class="p">,</span><span class="s1">&#39;RH&#39;</span><span class="p">,</span><span class="s1">&#39;Ws&#39;</span><span class="p">,</span><span class="s1">&#39;Rain&#39;</span><span class="p">,</span><span class="s1">&#39;FFMC&#39;</span><span class="p">,</span><span class="s1">&#39;DMC&#39;</span><span class="p">,</span><span class="s1">&#39;DC&#39;</span><span class="p">,</span><span class="s1">&#39;ISI&#39;</span><span class="p">,</span><span class="s1">&#39;BUI&#39;</span><span class="p">,</span><span class="s1">&#39;FWI&#39;</span><span class="p">]])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/figure_1.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CPU times: user 2 µs, sys: 1e+03 ns, total: 3 µs
Wall time: 6.91 µs
</pre></div>
</div>
<img alt="_images/EDA_6_1.png" src="_images/EDA_6_1.png" />
</div>
</div>
<p>From the pairplot we can examine outliers, but the only significant outliers we find are from the Rain variable, and we think theese should be included in the data as two days of heavy rain seems naturally occuring to us (rather than measurement error) and also useful information in understanding factors that lead to fire.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#examine numerical correlations between all variables</span>
<span class="n">DATA</span><span class="p">[[</span><span class="s1">&#39;Temperature&#39;</span><span class="p">,</span><span class="s1">&#39;RH&#39;</span><span class="p">,</span><span class="s1">&#39;Ws&#39;</span><span class="p">,</span><span class="s1">&#39;Rain&#39;</span><span class="p">,</span><span class="s1">&#39;FFMC&#39;</span><span class="p">,</span><span class="s1">&#39;DMC&#39;</span><span class="p">,</span><span class="s1">&#39;DC&#39;</span><span class="p">,</span><span class="s1">&#39;ISI&#39;</span><span class="p">,</span><span class="s1">&#39;BUI&#39;</span><span class="p">,</span><span class="s1">&#39;FWI&#39;</span><span class="p">,</span><span class="s1">&#39;month&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Temperature</th>
      <th>RH</th>
      <th>Ws</th>
      <th>Rain</th>
      <th>FFMC</th>
      <th>DMC</th>
      <th>DC</th>
      <th>ISI</th>
      <th>BUI</th>
      <th>FWI</th>
      <th>month</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Temperature</th>
      <td>1.000000</td>
      <td>-0.651400</td>
      <td>-0.284510</td>
      <td>-0.326492</td>
      <td>0.676568</td>
      <td>0.485687</td>
      <td>0.376284</td>
      <td>0.603871</td>
      <td>0.459789</td>
      <td>0.566670</td>
      <td>-0.056781</td>
    </tr>
    <tr>
      <th>RH</th>
      <td>-0.651400</td>
      <td>1.000000</td>
      <td>0.244048</td>
      <td>0.222356</td>
      <td>-0.644873</td>
      <td>-0.408519</td>
      <td>-0.226941</td>
      <td>-0.686667</td>
      <td>-0.353841</td>
      <td>-0.580957</td>
      <td>-0.041252</td>
    </tr>
    <tr>
      <th>Ws</th>
      <td>-0.284510</td>
      <td>0.244048</td>
      <td>1.000000</td>
      <td>0.171506</td>
      <td>-0.166548</td>
      <td>-0.000721</td>
      <td>0.079135</td>
      <td>0.008532</td>
      <td>0.031438</td>
      <td>0.032368</td>
      <td>-0.039880</td>
    </tr>
    <tr>
      <th>Rain</th>
      <td>-0.326492</td>
      <td>0.222356</td>
      <td>0.171506</td>
      <td>1.000000</td>
      <td>-0.543906</td>
      <td>-0.288773</td>
      <td>-0.298023</td>
      <td>-0.347484</td>
      <td>-0.299852</td>
      <td>-0.324422</td>
      <td>0.034822</td>
    </tr>
    <tr>
      <th>FFMC</th>
      <td>0.676568</td>
      <td>-0.644873</td>
      <td>-0.166548</td>
      <td>-0.543906</td>
      <td>1.000000</td>
      <td>0.603608</td>
      <td>0.507397</td>
      <td>0.740007</td>
      <td>0.592011</td>
      <td>0.691132</td>
      <td>0.017030</td>
    </tr>
    <tr>
      <th>DMC</th>
      <td>0.485687</td>
      <td>-0.408519</td>
      <td>-0.000721</td>
      <td>-0.288773</td>
      <td>0.603608</td>
      <td>1.000000</td>
      <td>0.875925</td>
      <td>0.680454</td>
      <td>0.982248</td>
      <td>0.875864</td>
      <td>0.067943</td>
    </tr>
    <tr>
      <th>DC</th>
      <td>0.376284</td>
      <td>-0.226941</td>
      <td>0.079135</td>
      <td>-0.298023</td>
      <td>0.507397</td>
      <td>0.875925</td>
      <td>1.000000</td>
      <td>0.508643</td>
      <td>0.941988</td>
      <td>0.739521</td>
      <td>0.126511</td>
    </tr>
    <tr>
      <th>ISI</th>
      <td>0.603871</td>
      <td>-0.686667</td>
      <td>0.008532</td>
      <td>-0.347484</td>
      <td>0.740007</td>
      <td>0.680454</td>
      <td>0.508643</td>
      <td>1.000000</td>
      <td>0.644093</td>
      <td>0.922895</td>
      <td>0.065608</td>
    </tr>
    <tr>
      <th>BUI</th>
      <td>0.459789</td>
      <td>-0.353841</td>
      <td>0.031438</td>
      <td>-0.299852</td>
      <td>0.592011</td>
      <td>0.982248</td>
      <td>0.941988</td>
      <td>0.644093</td>
      <td>1.000000</td>
      <td>0.857973</td>
      <td>0.085073</td>
    </tr>
    <tr>
      <th>FWI</th>
      <td>0.566670</td>
      <td>-0.580957</td>
      <td>0.032368</td>
      <td>-0.324422</td>
      <td>0.691132</td>
      <td>0.875864</td>
      <td>0.739521</td>
      <td>0.922895</td>
      <td>0.857973</td>
      <td>1.000000</td>
      <td>0.082639</td>
    </tr>
    <tr>
      <th>month</th>
      <td>-0.056781</td>
      <td>-0.041252</td>
      <td>-0.039880</td>
      <td>0.034822</td>
      <td>0.017030</td>
      <td>0.067943</td>
      <td>0.126511</td>
      <td>0.065608</td>
      <td>0.085073</td>
      <td>0.082639</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="take-a-closer-look-at-related-features">
<h1>Take a closer look at related features<a class="headerlink" href="#take-a-closer-look-at-related-features" title="Permalink to this headline">¶</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#these features are the fire behaviour indices which are related to each other so we expect correlations here</span>
<span class="n">sns</span><span class="o">.</span><span class="n">pairplot</span><span class="p">(</span><span class="n">DATA</span><span class="p">[[</span><span class="s1">&#39;ISI&#39;</span><span class="p">,</span><span class="s1">&#39;BUI&#39;</span><span class="p">,</span><span class="s1">&#39;FWI&#39;</span><span class="p">]])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/figure_2.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/EDA_10_0.png" src="_images/EDA_10_0.png" />
</div>
</div>
<p>As expected, there are strong linear relationships between FWI, BUI, and ISI. All three of these indices move together as they capture related information about how a fire will behave.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#these features are fuel moisture codes which are related to each other so we expect correlations here</span>
<span class="n">sns</span><span class="o">.</span><span class="n">pairplot</span><span class="p">(</span><span class="n">DATA</span><span class="p">[[</span><span class="s1">&#39;FFMC&#39;</span><span class="p">,</span><span class="s1">&#39;DMC&#39;</span><span class="p">,</span><span class="s1">&#39;DC&#39;</span><span class="p">,]])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/figure_3.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/EDA_12_0.png" src="_images/EDA_12_0.png" />
</div>
</div>
<p>We observe linear relationships between the DMC and DC. While the relationship between FFMC and the two others seems to resemble a logarithmic relationship, although the curve is quite sharp. This means that as FFMC increases DC stays consistent until around 80 FFMC where the spread of DC increases greatly. The FFMC is an inverse measure of moisture content in easily ignited surface litter and other cured fine fuels, hence it is to be expected that this increases as the drought code increases.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#plot one of the moisture codes and one of the fire behaviour indicies</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;DC&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;BUI&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">DATA</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/DC_by_BUI.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/EDA_14_0.png" src="_images/EDA_14_0.png" />
</div>
</div>
<p>We see a reasonably linear relationship between the DC and BUI, however at the end we see the relationships follow two lines quite rigorously. The BUI is mathematically based on DMC and DC, so this should not be a surprise.</p>
<div class="section" id="examine-fire-weather-index-fwi">
<h2>Examine Fire Weather Index (FWI)<a class="headerlink" href="#examine-fire-weather-index-fwi" title="Permalink to this headline">¶</a></h2>
<p>The FWI incorporates the ISI and BUI, meaning it is a compound covariate of a lot of the covariates that we expect could have prediction power over forest fires.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#plot kernel density estimate of FWI by fire status</span>
<span class="n">sns</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="s1">&#39;FWI&#39;</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Classes&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">DATA</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/figure_4.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/EDA_18_0.png" src="_images/EDA_18_0.png" />
</div>
</div>
<p>Unsurprisingly the compoung variable FWI has substantial correlation with the fire/notfire variable. If FWI is over 8, then the data indicates we can be reasonably sure there is fire</p>
</div>
<div class="section" id="fires-and-temperature-over-time">
<h2>Fires and temperature over time<a class="headerlink" href="#fires-and-temperature-over-time" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#plot boxplot of fires over month to see when fires are most common</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;month&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;Classes&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">DATA</span><span class="p">[</span><span class="n">DATA</span><span class="p">[</span><span class="s1">&#39;Classes&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;fire&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/Class_month_boxplot.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/EDA_21_0.png" src="_images/EDA_21_0.png" />
</div>
</div>
<p>We observe that half of the fires are in the month of July, with a fairly even spread before and after.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#plot scatterplot of temperature over time</span>
<span class="n">DATA</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Datetime&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;Temperature&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span><span class="n">ha</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/temp_by_date.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/EDA_23_0.png" src="_images/EDA_23_0.png" />
</div>
</div>
<p>The plot above demonstrates that the highest tesmperatures take place in July and August. As seen by the boxplot above, this is also more or less when the most fires occur, so we can observe a clear relationship between temperature and fires. While this might be an intuitive conclusion, it is useful to confirm that the data supports our understanding.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "fires"
        },
        kernelOptions: {
            kernelName: "fires",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'fires'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="data_cleaning.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">&lt;no title&gt;</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="models.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Predicting Algerian Forest Fires</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Minori Jaggia, Leif-Martin Saether Sunde, Ingrid Chien, Johnson Du<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>